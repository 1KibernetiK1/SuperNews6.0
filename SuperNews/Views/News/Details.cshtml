@model SuperNews.Domains.News

@{
    ViewData["Title"] = "Details";
}

<div>
    <input type="hidden" id="NewsId" value="@Model.NewsId" />
    <h3>@Html.DisplayFor(model => model.Title)</h3>
    <h5>@Html.DisplayFor(model => model.CreationDate)</h5>
    <div class="creation_date_info" role="group" aria-label="Vertical radio toggle button group">
        <input style="display: none;" runat="server" type="radio" class="btn-check btn-sm " name="vbtn-radio" id="vbtn-radio1" autocomplete="off">
        <label id="label_like" class="btn btn-outline-success justify-content-end" for="vbtn-radio1">
            <h5 id="likeCount" class="like d-inline fs-4">@Model.Likes</h5>
            <i class="fas fa-chevron-up"></i>
        </label>
        <input runat="server" style="display: none;" type="radio" class="btn-check" name="vbtn-radio" id="vbtn-radio2" autocomplete="off">
        <label id="label_dislike" class="btn btn-outline-danger justify-content-end" for="vbtn-radio2">
            <h5 id="dislikeCount" class="dislike d-inline fs-4">@Model.Dislikes</h5>
            <i class="fas fa-chevron-down"></i>
        </label>
    </div>
    <hr />
    <div class="details_info">
           
      @*  <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Rubric)
        </dd>   *@

        <div class="detail_img">
            <img class="img_deta"
                 src="~/NewsImages/@Model.ImageUrl" />
        </div>
        <div class="detail_description">
            @Html.DisplayFor(model => model.Description)
        </div>     
      
    </div>
</div>
<div>
    @*<span class="btn btn-outline-info">@Html.ActionLink("Edit", "Edit", new {  id = Model.NewsId }) </span> |*@
    <a class="btn btn-info" asp-action="List">Вернуться к новостям</a>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    $("#vbtn-radio1").click(function () {
        $.post("/News/Like",
            {
                Id: $('#NewsId').val(),
            },
            function (data, status) {
                $('#likeCount').text(data);
                $('#label_like').css("background-color", "#29a442");
                $('#label_like').css("color", "white");
                $('#label_dislike').css("background-color", "white");
                $('#label_dislike').css("color", "#ef3445");
            });
        
    });
    $("#vbtn-radio2").click(function () {
        $.post("/News/Dislike",
            {
                Id: $('#NewsId').val(),
            },
            function (data, status) {
                $('#dislikeCount').text(data);
                $('#label_dislike').css("background-color", "#ef3445");
                $('#label_dislike').css("color", "white");
                $('#label_like').css("background-color", "white");
                $('#label_like').css("color", "#29a442");
            });
    });

   

</script>



